{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\MICROSERVICE\\\\FRONTEND\\\\react-js\\\\micro-memberpage\\\\src\\\\pages\\\\DetailsClass.js\";\nimport React, { useEffect } from 'react';\nimport Youtube from \"react-youtube\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { statusCourses, watchCourse, messageCourse } from \"store/actions/courses\";\nimport SidebarClass from \"parts/SidebarClass\";\nimport courses from \"constants/api/courses\";\nimport Loading from \"parts/Loading\";\nimport Centered from \"parts/Centered\";\nexport default function DetailsClass({\n  match,\n  history\n}) {\n  var _COURSES$message, _COURSES$data, _COURSES$data$match$p, _COURSES$data3, _COURSES$data3$match$, _COURSES$data3$match$2, _currentLesson$name, _currentLesson, _currentChapter$name, _currentChapter3, _currentLesson2, _currentLesson3, _currentLesson4;\n\n  const dispatch = useDispatch();\n  const COURSES = useSelector(state => state.courses);\n  useEffect(() => {\n    window.scroll(0, 0);\n    dispatch(statusCourses(\"loading\"));\n    courses.details(match.params.class).then(res => {\n      if (res.chapters.length === 0) throw new Error(\"Class might be not ready yet\");else dispatch(watchCourse(res));\n    }).catch(err => {\n      var _err$response$data$me, _err$response, _err$response$data;\n\n      dispatch(messageCourse((_err$response$data$me = err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) !== null && _err$response$data$me !== void 0 ? _err$response$data$me : \"error\"));\n    });\n  }, [match.params.class, dispatch]);\n  if (COURSES.status === \"loading\") return /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 43\n    }\n  });\n  if (COURSES.status === \"error\") return /*#__PURE__*/React.createElement(Centered, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 41\n    }\n  }, (_COURSES$message = COURSES === null || COURSES === void 0 ? void 0 : COURSES.message) !== null && _COURSES$message !== void 0 ? _COURSES$message : \"Error here\");\n  let currentChapter, currentLesson;\n\n  if (COURSES.status === \"ok\" && (COURSES === null || COURSES === void 0 ? void 0 : (_COURSES$data = COURSES.data) === null || _COURSES$data === void 0 ? void 0 : (_COURSES$data$match$p = _COURSES$data[match.params.class]) === null || _COURSES$data$match$p === void 0 ? void 0 : _COURSES$data$match$p.chapters)) {\n    var _COURSES$data$match$p2, _COURSES$data2, _COURSES$data2$match$, _COURSES$data2$match$2, _COURSES$data$match$p3, _currentChapter$lesso, _currentChapter, _currentChapter$lesso2, _currentChapter2, _currentChapter2$less;\n\n    currentChapter = (_COURSES$data$match$p2 = COURSES === null || COURSES === void 0 ? void 0 : (_COURSES$data2 = COURSES.data) === null || _COURSES$data2 === void 0 ? void 0 : (_COURSES$data2$match$ = _COURSES$data2[match.params.class]) === null || _COURSES$data2$match$ === void 0 ? void 0 : (_COURSES$data2$match$2 = _COURSES$data2$match$.chapters) === null || _COURSES$data2$match$2 === void 0 ? void 0 : _COURSES$data2$match$2.find(chapter => +chapter.id === +match.params.chapters)) !== null && _COURSES$data$match$p2 !== void 0 ? _COURSES$data$match$p2 : (_COURSES$data$match$p3 = COURSES.data[match.params.class]) === null || _COURSES$data$match$p3 === void 0 ? void 0 : _COURSES$data$match$p3.chapters[0];\n    currentLesson = (_currentChapter$lesso = (_currentChapter = currentChapter) === null || _currentChapter === void 0 ? void 0 : (_currentChapter$lesso2 = _currentChapter.lessons) === null || _currentChapter$lesso2 === void 0 ? void 0 : _currentChapter$lesso2.find(lesson => lesson.video === match.params.uid)) !== null && _currentChapter$lesso !== void 0 ? _currentChapter$lesso : (_currentChapter2 = currentChapter) === null || _currentChapter2 === void 0 ? void 0 : (_currentChapter2$less = _currentChapter2.lessons) === null || _currentChapter2$less === void 0 ? void 0 : _currentChapter2$less[0];\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, ((_COURSES$data3 = COURSES.data) === null || _COURSES$data3 === void 0 ? void 0 : (_COURSES$data3$match$ = _COURSES$data3[match.params.class]) === null || _COURSES$data3$match$ === void 0 ? void 0 : (_COURSES$data3$match$2 = _COURSES$data3$match$.chapters) === null || _COURSES$data3$match$2 === void 0 ? void 0 : _COURSES$data3$match$2.length) > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SidebarClass, {\n    data: COURSES.data[match.params.class],\n    defaultUri: `/courses/${match.params.class}/${currentChapter.id}/${currentLesson.video}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"main\", {\n    className: \"flex-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"px-16\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    className: \"flex flex-col mt-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-4xl text-gray-900 font-medium\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, (_currentLesson$name = (_currentLesson = currentLesson) === null || _currentLesson === void 0 ? void 0 : _currentLesson.name) !== null && _currentLesson$name !== void 0 ? _currentLesson$name : \"Lesson Name\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-lg text-gray-600\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, \"Materi bagian dari \", (_currentChapter$name = (_currentChapter3 = currentChapter) === null || _currentChapter3 === void 0 ? void 0 : _currentChapter3.name) !== null && _currentChapter$name !== void 0 ? _currentChapter$name : \"Chapter Name\")), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"flex flex-col mt-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex justify-start items-center -mx-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-full px-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relative\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"video-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 23\n    }\n  }, ((_currentLesson2 = currentLesson) === null || _currentLesson2 === void 0 ? void 0 : _currentLesson2.video) && /*#__PURE__*/React.createElement(Youtube, {\n    videoId: (_currentLesson3 = currentLesson) === null || _currentLesson3 === void 0 ? void 0 : _currentLesson3.video,\n    id: (_currentLesson4 = currentLesson) === null || _currentLesson4 === void 0 ? void 0 : _currentLesson4.video,\n    opts: {\n      playerVars: {\n        autoplay: 1,\n        controls: 1,\n        showinfo: 0,\n        rel: 0\n      }\n    },\n    onEnd: next,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 51\n    }\n  }))))))))));\n}","map":{"version":3,"sources":["C:/xampp/htdocs/MICROSERVICE/FRONTEND/react-js/micro-memberpage/src/pages/DetailsClass.js"],"names":["React","useEffect","Youtube","useDispatch","useSelector","statusCourses","watchCourse","messageCourse","SidebarClass","courses","Loading","Centered","DetailsClass","match","history","dispatch","COURSES","state","window","scroll","details","params","class","then","res","chapters","length","Error","catch","err","response","data","message","status","currentChapter","currentLesson","find","chapter","id","lessons","lesson","video","uid","name","playerVars","autoplay","controls","showinfo","rel","next"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react'\nimport Youtube from \"react-youtube\"\nimport {useDispatch, useSelector} from \"react-redux\"\n\nimport {statusCourses, watchCourse, messageCourse} from \"store/actions/courses\"\n\nimport SidebarClass from \"parts/SidebarClass\"\nimport courses from \"constants/api/courses\"\nimport Loading from \"parts/Loading\"\nimport Centered from \"parts/Centered\"\n\nexport default function DetailsClass({ match, history }) {\n\n  const dispatch = useDispatch()\n\n  const COURSES = useSelector(state => state.courses)\n\n  useEffect(() => {\n    window.scroll(0,0)\n\n    dispatch(statusCourses(\"loading\"))\n    courses.details(match.params.class).then( res => {\n      if(res.chapters.length === 0)\n        throw new Error(\"Class might be not ready yet\");\n      else dispatch(watchCourse(res))\n    }).catch( err => {\n      dispatch(messageCourse(err?.response?.data?.message ?? \"error\"))\n    })\n  }, [match.params.class, dispatch])\n\n  if(COURSES.status === \"loading\") return <Loading></Loading>\n  if(COURSES.status === \"error\") return <Centered>{COURSES?.message ?? \"Error here\"}</Centered>\n\n  let currentChapter, currentLesson\n  if(COURSES.status === \"ok\" && COURSES?.data?.[match.params.class]?.chapters) {\n    currentChapter = COURSES?.data?.[match.params.class]?.chapters?.find( chapter => +chapter.id === +match.params.chapters ) ?? \n                     COURSES.data[match.params.class]?.chapters[0];\n    \n    currentLesson = currentChapter?.lessons?.find( lesson => lesson.video === match.params.uid ) ??\n                    currentChapter?.lessons?.[0];\n  }\n\n  return (\n    <div className=\"flex\">\n      {\n        COURSES.data?.[match.params.class]?.chapters?.length > 0 && ( <> \n          <SidebarClass data={COURSES.data[match.params.class]} defaultUri={`/courses/${match.params.class}/${currentChapter.id}/${currentLesson.video}`}></SidebarClass>\n\n          <main className=\"flex-1\">\n            <div className=\"px-16\">\n              <section className=\"flex flex-col mt-8\">\n                <h1 className=\"text-4xl text-gray-900 font-medium\">{currentLesson?.name ?? \"Lesson Name\"}</h1>\n                <p className=\"text-lg text-gray-600\">Materi bagian dari {currentChapter?.name ?? \"Chapter Name\"}</p>\n              </section>\n\n              <section className=\"flex flex-col mt-8\">\n                <div className=\"flex justify-start items-center -mx-4\">\n                  <div className=\"w-full px-4\">\n                    <div className=\"relative\">\n                      <div className=\"video-wrapper\">\n                        {\n                          currentLesson?.video && <Youtube \n                            videoId={currentLesson?.video} \n                            id={currentLesson?.video}\n                            opts={{\n                              playerVars: {\n                                autoplay: 1,\n                                controls: 1,\n                                showinfo: 0,\n                                rel: 0\n                              }\n                            }} \n                            onEnd={next}\n                            >\n                              \n                          </Youtube>\n                        }\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </section>\n\n            </div>\n          </main>\n\n        </> \n        )\n      }\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}