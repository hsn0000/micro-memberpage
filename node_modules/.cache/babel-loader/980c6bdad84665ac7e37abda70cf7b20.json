{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\MICROSERVICE\\\\FRONTEND\\\\react-js\\\\micro-memberpage\\\\src\\\\pages\\\\Transactions.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Sidebar from \"parts/Sidebar\";\nimport formatThousand from \"helpers/formatThousand\";\nimport formatDate from \"helpers/formatDate\";\nimport order from 'constants/api/orders';\nimport Loading from 'parts/Loading';\nimport { statusOrders, fetchOrders, messageOrder } from 'store/actions/orders';\nimport orders from 'store/reducers/orders';\nimport Congratulation from 'parts/Congratulation';\nimport EmptyState from 'parts/EmptyState';\nexport default function Transactions() {\n  var _location$search, _location$search2, _location$search2$sub, _location$search2$sub2, _location$search2$sub3, _location$search2$sub4, _Object$values, _Object$values$map;\n\n  const dispatch = useDispatch();\n  const ORDERS = useSelector(state => state.orders);\n  const location = useLocation();\n  const params = (location === null || location === void 0 ? void 0 : (_location$search = location.search) === null || _location$search === void 0 ? void 0 : _location$search.length) > 0 && (location === null || location === void 0 ? void 0 : (_location$search2 = location.search) === null || _location$search2 === void 0 ? void 0 : (_location$search2$sub = _location$search2.substring(1, location.length)) === null || _location$search2$sub === void 0 ? void 0 : (_location$search2$sub2 = _location$search2$sub.split) === null || _location$search2$sub2 === void 0 ? void 0 : (_location$search2$sub3 = _location$search2$sub2.call(_location$search2$sub, \"&\")) === null || _location$search2$sub3 === void 0 ? void 0 : (_location$search2$sub4 = _location$search2$sub3.reduce) === null || _location$search2$sub4 === void 0 ? void 0 : _location$search2$sub4.call(_location$search2$sub3, (acc, item) => {\n    const [key, value] = item.split(\"=\");\n    acc[key] = value;\n    return acc;\n  }, {}));\n  console.log('params => ', params);\n  useEffect(() => {\n    window.scroll(0, 0);\n    dispatch(statusOrders(\"loading\"));\n    order.all().then(res => {\n      dispatch(fetchOrders(res.data));\n    }).catch(err => {\n      var _err$response$data$me, _err$response, _err$response$data;\n\n      dispatch(messageOrder((_err$response$data$me = err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) !== null && _err$response$data$me !== void 0 ? _err$response$data$me : \"Error\"));\n    });\n  }, [dispatch]); // const items = [\n  //   {\n  //     id: \"1\",\n  //     slug: \"2\",\n  //     image: \"https://st4.depositphotos.com/11767332/28754/v/1600/depositphotos_287546302-stock-illustration-financial-transactions-cashless-operation-on.jpg\",\n  //     name: \"Start Vlogging\",\n  //     levelType: \"Beginner\",\n  //     price: 280000,\n  //     date: \"2020-01-22\",\n  //   },\n  //   {\n  //     id: \"2\",\n  //     slug: \"3\",\n  //     image: \"https://thumbs.dreamstime.com/z/online-payment-service-banking-money-transfer-mobile-app-nfc-credit-card-concept-hand-finger-click-send-button-149086812.jpg\",\n  //     name: \"Good Negotiation\",\n  //     levelType: \"Beginner\",\n  //     price: 580000,\n  //     date: \"2020-07-22\",\n  //   }\n  // ];\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Sidebar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"main\", {\n    className: \"flex-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"px-4 sm:px-16\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, ORDERS.status === \"loading\" && /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 42\n    }\n  }), ORDERS.status === \"error\" && ORDERS.message, ORDERS.status === \"ok\" && params.order_id ? /*#__PURE__*/React.createElement(Congratulation, {\n    data: ORDERS.data[params.order_id],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 35\n    }\n  }) : ORDERS.total > 0 ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"section\", {\n    className: \"flex flex-col mt-8 pl-12 sm:pl-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-xl sm:text-4xl text-gray-900 font-medium\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  }, \"Transactions\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-sm sm:text-lg text-gray-600\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }, \"Keep on tract what you've invested\")), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"flex flex-wrap flex-col mt-8 mb-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 19\n    }\n  }, (_Object$values = Object.values(ORDERS.data)) === null || _Object$values === void 0 ? void 0 : (_Object$values$map = _Object$values.map) === null || _Object$values$map === void 0 ? void 0 : _Object$values$map.call(_Object$values, item => {\n    var _item$metadata$course, _item$metadata, _item$metadata$course2, _item$metadata2, _item$metadata$course3, _item$metadata3, _item$metadata$course4, _item$metadata4, _item$metadata$course5, _item$metadata5;\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: item.id,\n      className: \"flex flex-wrap justify-start items-center -mx-4 mt-5 mb-4 sm:mb-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 32\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-full sm:w-1/12 px-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: (_item$metadata$course = item === null || item === void 0 ? void 0 : (_item$metadata = item.metadata) === null || _item$metadata === void 0 ? void 0 : _item$metadata.course_thumbnail) !== null && _item$metadata$course !== void 0 ? _item$metadata$course : \"\",\n      alt: (_item$metadata$course2 = item === null || item === void 0 ? void 0 : (_item$metadata2 = item.metadata) === null || _item$metadata2 === void 0 ? void 0 : _item$metadata2.course_name) !== null && _item$metadata$course2 !== void 0 ? _item$metadata$course2 : \"Class Name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-auto sm:w-3/12 px-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      className: \"text-gray-900 text-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 29\n      }\n    }, (_item$metadata$course3 = item === null || item === void 0 ? void 0 : (_item$metadata3 = item.metadata) === null || _item$metadata3 === void 0 ? void 0 : _item$metadata3.course_name) !== null && _item$metadata$course3 !== void 0 ? _item$metadata$course3 : \"Class name\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-gray-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 29\n      }\n    }, (_item$metadata$course4 = item === null || item === void 0 ? void 0 : (_item$metadata4 = item.metadata) === null || _item$metadata4 === void 0 ? void 0 : _item$metadata4.course_level) !== null && _item$metadata$course4 !== void 0 ? _item$metadata$course4 : \"Level\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-2/12 px-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      className: \"text-gray-900 text-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 29\n      }\n    }, \"Rp.\", formatThousand((_item$metadata$course5 = item === null || item === void 0 ? void 0 : (_item$metadata5 = item.metadata) === null || _item$metadata5 === void 0 ? void 0 : _item$metadata5.course_price) !== null && _item$metadata$course5 !== void 0 ? _item$metadata$course5 : 0))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-2/12 px-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      className: \"text-gray-900 text-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 29\n      }\n    }, (item === null || item === void 0 ? void 0 : item.created_at) ? formatDate(item === null || item === void 0 ? void 0 : item.created_at) : \"-\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-3/12 flex justify-center px-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 27\n      }\n    }, (item === null || item === void 0 ? void 0 : item.status) === \"pending\" && /*#__PURE__*/React.createElement(Link, {\n      className: \"bg-orange-500 hover:bg-orange-400 text-white transition-all duration-200 focus:outline-none px-6 py-3 mt-4\",\n      to: `/joined/${item === null || item === void 0 ? void 0 : item.course_id}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 61\n      }\n    }, \" Lunasi \"), (item === null || item === void 0 ? void 0 : item.status) === \"success\" && /*#__PURE__*/React.createElement(Link, {\n      className: \"bg-gray-250 hover:bg-gray-300 transition-all duration-200 focus:outline-none px-6 py-3 mt-4\",\n      to: `/courses/${item === null || item === void 0 ? void 0 : item.course_id}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 61\n      }\n    }, \"Lihat Kelas \")));\n  }))) : /*#__PURE__*/React.createElement(EmptyState, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 23\n    }\n  }))));\n}","map":{"version":3,"sources":["C:/xampp/htdocs/MICROSERVICE/FRONTEND/react-js/micro-memberpage/src/pages/Transactions.js"],"names":["React","useEffect","useState","Link","useLocation","useDispatch","useSelector","Sidebar","formatThousand","formatDate","order","Loading","statusOrders","fetchOrders","messageOrder","orders","Congratulation","EmptyState","Transactions","dispatch","ORDERS","state","location","params","search","length","substring","split","reduce","acc","item","key","value","console","log","window","scroll","all","then","res","data","catch","err","response","message","status","order_id","total","Object","values","map","id","metadata","course_thumbnail","course_name","course_level","course_price","created_at","course_id"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react'\nimport {Link, useLocation} from 'react-router-dom'\nimport {useDispatch, useSelector} from 'react-redux'\n\nimport Sidebar from \"parts/Sidebar\"\nimport formatThousand from \"helpers/formatThousand\"\nimport formatDate from \"helpers/formatDate\"\n\nimport order from 'constants/api/orders'\n\nimport Loading from 'parts/Loading'\n\nimport {statusOrders, fetchOrders, messageOrder} from 'store/actions/orders'\nimport orders from 'store/reducers/orders'\nimport Congratulation from 'parts/Congratulation'\nimport EmptyState from 'parts/EmptyState'\n\nexport default function Transactions() {\n\n  const dispatch = useDispatch()\n  const ORDERS = useSelector(state => state.orders)\n\n  const location = useLocation()\n\n  const params = location?.search?.length > 0 && location?.search?.substring(1, location.length)?.split?.(\"&\")?.reduce?.( (acc, item) => {\n    const [key, value] = item.split(\"=\")\n    acc[key] = value\n    return acc\n  }, {})\n\n  console.log('params => ',params)\n\n  useEffect(() => {\n    window.scroll(0,0)\n\n    dispatch(statusOrders(\"loading\"))\n    order.all().then( res => {\n      dispatch(fetchOrders(res.data))\n    }).catch( err => {\n      dispatch(messageOrder(err?.response?.data?.message ?? \"Error\"))\n    })\n  }, [dispatch])\n\n  // const items = [\n  //   {\n  //     id: \"1\",\n  //     slug: \"2\",\n  //     image: \"https://st4.depositphotos.com/11767332/28754/v/1600/depositphotos_287546302-stock-illustration-financial-transactions-cashless-operation-on.jpg\",\n  //     name: \"Start Vlogging\",\n  //     levelType: \"Beginner\",\n  //     price: 280000,\n  //     date: \"2020-01-22\",\n  //   },\n  //   {\n  //     id: \"2\",\n  //     slug: \"3\",\n  //     image: \"https://thumbs.dreamstime.com/z/online-payment-service-banking-money-transfer-mobile-app-nfc-credit-card-concept-hand-finger-click-send-button-149086812.jpg\",\n  //     name: \"Good Negotiation\",\n  //     levelType: \"Beginner\",\n  //     price: 580000,\n  //     date: \"2020-07-22\",\n  //   }\n  // ];\n\n  return (\n    <div className=\"flex\">\n      <Sidebar></Sidebar>\n      <main className=\"flex-1\">\n        <div className=\"px-4 sm:px-16\">\n\n        { ORDERS.status === \"loading\" && <Loading></Loading> }\n            { ORDERS.status === \"error\" && ORDERS.message }\n            { ORDERS.status === \"ok\" && \n                params.order_id ? <Congratulation data={ORDERS.data[params.order_id]} /> : \n                ORDERS.total > 0 ? \n                <> \n                  <section className=\"flex flex-col mt-8 pl-12 sm:pl-0\">\n                    <h1 className=\"text-xl sm:text-4xl text-gray-900 font-medium\">Transactions</h1>\n                    <p className=\"text-sm sm:text-lg text-gray-600\">Keep on tract what you've invested</p>\n                  </section>\n                  <section className=\"flex flex-wrap flex-col mt-8 mb-8\">\n                    {\n                      Object.values(ORDERS.data)?.map?.( item => {\n                        \n                        return <div key={item.id} className=\"flex flex-wrap justify-start items-center -mx-4 mt-5 mb-4 sm:mb-6\">\n                          <div className=\"w-full sm:w-1/12 px-4\">\n                            <img src={item?.metadata?.course_thumbnail ?? \"\"} alt={item?.metadata?.course_name ?? \"Class Name\"} />\n                          </div>\n                          <div className=\"w-auto sm:w-3/12 px-4\">\n                            <h6 className=\"text-gray-900 text-lg\">{item?.metadata?.course_name ?? \"Class name\"}</h6>\n                            <p className=\"text-gray-600\">{item?.metadata?.course_level ?? \"Level\"}</p>\n                          </div>\n                          <div className=\"w-2/12 px-4\">\n                            <h6 className=\"text-gray-900 text-lg\">Rp.{formatThousand(item?.metadata?.course_price ?? 0)}</h6>\n                          </div>\n                          <div className=\"w-2/12 px-4\">\n                            <h6 className=\"text-gray-900 text-lg\">{item?.created_at ? formatDate(item?.created_at) : \"-\"}</h6> \n                          </div>\n                          <div className=\"w-3/12 flex justify-center px-4\">\n                            {\n                              item?.status === \"pending\" && <Link className=\"bg-orange-500 hover:bg-orange-400 text-white transition-all duration-200 focus:outline-none px-6 py-3 mt-4\"\n                               to={`/joined/${item?.course_id}`}> Lunasi </Link>\n                            }\n                            {\n                              item?.status === \"success\" && <Link className=\"bg-gray-250 hover:bg-gray-300 transition-all duration-200 focus:outline-none px-6 py-3 mt-4\"\n                                to={`/courses/${item?.course_id}`}>\n                              Lihat Kelas </Link>\n                            }\n                          </div>\n                        </div> \n                      })\n                    }\n                  </section>\n                </> : <EmptyState />\n            }\n        </div>\n      </main>\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}